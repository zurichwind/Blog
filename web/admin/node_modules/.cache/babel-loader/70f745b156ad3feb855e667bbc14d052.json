{"remainingRequest":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js!C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\website\\Website.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\website\\Website.vue","mtime":1676894149449},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1686291315932},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1686291309679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIGltYWdlQ29udmVyc2lvbiBmcm9tICJpbWFnZS1jb252ZXJzaW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFdlYnNpdGVDb25maWcoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWJzaXRlQ29uZmlnRm9ybTogewogICAgICAgIHdlYnNpdGVDb3ZlcjogIiIsCiAgICAgICAgd2Vic2l0ZUF2YXRhcjogIiIsCiAgICAgICAgd2Vic2l0ZU5hbWU6ICIiLAogICAgICAgIHdlYnNpdGVBdXRob3I6ICIiLAogICAgICAgIHdlYnNpdGVJbnRybzogIiIsCiAgICAgICAgd2Vic2l0ZU5vdGljZTogIiIsCiAgICAgICAgd2Vic2l0ZUNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgd2Vic2l0ZVJlY29yZE5vOiAiIiwKICAgICAgICBzb2NpYWxMb2dpbkxpc3Q6IFtdLAogICAgICAgIHNvY2lhbFVybExpc3Q6IFtdLAogICAgICAgIHFxOiAiIiwKICAgICAgICBnaXRodWI6ICIiLAogICAgICAgIGdpdGVlOiAiIiwKICAgICAgICB1c2VyQXZhdGFyOiAiIiwKICAgICAgICB0b3VyaXN0QXZhdGFyOiAiIiwKICAgICAgICBpc1Jld2FyZDogMSwKICAgICAgICB3ZWlYaW5RUkNvZGU6ICIiLAogICAgICAgIGFsaXBheVFSQ29kZTogIiIsCiAgICAgICAgYXJ0aWNsZUNvdmVyOiAiIiwKICAgICAgICB3ZWJzb2NrZXRVcmw6ICIiLAogICAgICAgIGlzRW1haWxOb3RpY2U6IDEsCiAgICAgICAgaXNDb21tZW50UmV2aWV3OiAwLAogICAgICAgIGlzTWVzc2FnZVJldmlldzogMAogICAgICB9LAogICAgICBhY3RpdmVOYW1lOiAiaW5mbyIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRXZWJzaXRlQ29uZmlnOiBmdW5jdGlvbiBnZXRXZWJzaXRlQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvYWRtaW4vd2Vic2l0ZS9jb25maWciKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgX3RoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0gPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA8IF90aGlzMi5jb25maWcuVVBMT0FEX1NJWkUpIHsKICAgICAgICAgIHJlc29sdmUoZmlsZSk7CiAgICAgICAgfSAvLyDljovnvKnliLAyMDBLQizov5nph4znmoQyMDDlsLHmmK/opoHljovnvKnnmoTlpKflsI8s5Y+v6Ieq5a6a5LmJCgoKICAgICAgICBpbWFnZUNvbnZlcnNpb24uY29tcHJlc3NBY2N1cmF0ZWx5KGZpbGUsIF90aGlzMi5jb25maWcuVVBMT0FEX1NJWkUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2sodGFiKSB7CiAgICAgIGNvbnNvbGUubG9nKHRhYik7CiAgICB9LAogICAgaGFuZGxlV2Vic2l0ZUNvdmVyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlV2Vic2l0ZUNvdmVyU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLndlYnNpdGVDb25maWdGb3JtLndlYnNpdGVDb3ZlciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlV2Vic2l0ZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVdlYnNpdGVBdmF0YXJTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0ud2Vic2l0ZUF2YXRhciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlVXNlckF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVVzZXJBdmF0YXJTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0udXNlckF2YXRhciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlQXJ0aWNsZUNvdmVyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQXJ0aWNsZUNvdmVyU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLndlYnNpdGVDb25maWdGb3JtLmFydGljbGVDb3ZlciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlVG91cmlzdEF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVRvdXJpc3RBdmF0YXJTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0udG91cmlzdEF2YXRhciA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlV2VpWGluU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlV2VpWGluU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLndlYnNpdGVDb25maWdGb3JtLndlaVhpblFSQ29kZSA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgaGFuZGxlQWxpcGF5U3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQWxpcGF5U3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLndlYnNpdGVDb25maWdGb3JtLmFsaXBheVFSQ29kZSA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgdXBkYXRlV2Vic2l0ZUNvbmZpZzogZnVuY3Rpb24gdXBkYXRlV2Vic2l0ZUNvbmZpZygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLnB1dCgiL2FwaS9hZG1pbi93ZWJzaXRlL2NvbmZpZyIsIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAoZGF0YS5mbGFnKSB7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgdGl0bGU6ICLmiJDlip8iLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAi5aSx6LSlIiwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Website.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-card class=\"main-card\">\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n      <!-- 修改信息 -->\n      <el-tab-pane label=\"网站信息\" name=\"info\">\n        <el-form label-width=\"100px\" :model=\"websiteConfigForm\" label-position=\"left\">\n          <el-form-item label=\"网站头像\">\n            <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n              :on-success=\"handleWebsiteAvatarSuccess\">\n              <img v-if=\"websiteConfigForm.websiteAvatar\" :src=\"websiteConfigForm.websiteAvatar\" class=\"avatar\" />\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"网站封面\">\n            <el-upload class=\"cover-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n              :on-success=\"handleWebsiteCoverSuccess\">\n              <img v-if=\"websiteConfigForm.websiteCover\" :src=\"websiteConfigForm.websiteCover\" class=\"cover\" />\n              <i v-else class=\"el-icon-plus cover-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"网站名称\">\n            <el-input v-model=\"websiteConfigForm.websiteName\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站作者\">\n            <el-input v-model=\"websiteConfigForm.websiteAuthor\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站简介\">\n            <el-input v-model=\"websiteConfigForm.websiteIntro\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站创建日期\">\n            <el-date-picker style=\"width:400px\" value-format=\"yyyy-MM-dd\" v-model=\"websiteConfigForm.websiteCreateTime\"\n              type=\"date\" placeholder=\"选择日期\" />\n          </el-form-item>\n          <el-form-item label=\"网站公告\">\n            <el-input v-model=\"websiteConfigForm.websiteNotice\" placeholder=\"请输入公告内容\" style=\"width:400px\"\n              type=\"textarea\" :rows=\"5\" />\n          </el-form-item>\n          <el-form-item label=\"备案号\">\n            <el-input v-model=\"websiteConfigForm.websiteRecordNo\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"第三方登录\">\n            <el-checkbox-group v-model=\"websiteConfigForm.socialLoginList\">\n              <el-checkbox label=\"qq\">QQ</el-checkbox>\n              <el-checkbox label=\"weibo\">微博</el-checkbox>\n            </el-checkbox-group>\n          </el-form-item>\n          <el-button type=\"primary\" size=\"medium\" style=\"margin-left:6.3rem\" @click=\"updateWebsiteConfig\">\n            修改\n          </el-button>\n        </el-form>\n      </el-tab-pane>\n      <!-- 网站公告 -->\n      <el-tab-pane label=\"社交信息\" name=\"notice\">\n        <el-form label-width=\"70px\" :model=\"websiteConfigForm\">\n          <el-checkbox-group v-model=\"websiteConfigForm.socialUrlList\">\n            <el-form-item label=\"QQ\">\n              <el-input v-model=\"websiteConfigForm.qq\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"qq\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-form-item label=\"Github\">\n              <el-input v-model=\"websiteConfigForm.github\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"github\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-form-item label=\"Gitee\">\n              <el-input v-model=\"websiteConfigForm.gitee\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"gitee\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-button type=\"primary\" size=\"medium\" style=\"margin-left:4.375rem\" @click=\"updateWebsiteConfig\">\n              修改\n            </el-button>\n          </el-checkbox-group>\n        </el-form>\n      </el-tab-pane>\n      <!-- 修改密码 -->\n      <el-tab-pane label=\"其他设置\" name=\"password\">\n        <el-form label-width=\"120px\" :model=\"websiteConfigForm\" label-position=\"left\">\n          <el-row style=\"width:600px\">\n            <el-col :md=\"12\">\n              <el-form-item label=\"用户头像\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleUserAvatarSuccess\">\n                  <img v-if=\"websiteConfigForm.userAvatar\" :src=\"websiteConfigForm.userAvatar\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n            <el-col :md=\"12\">\n              <el-form-item label=\"游客头像\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleTouristAvatarSuccess\">\n                  <img v-if=\"websiteConfigForm.touristAvatar\" :src=\"websiteConfigForm.touristAvatar\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-form-item label=\"默认文章封面\">\n            <el-upload class=\"cover-uploader\" action=\"/api/admin/config/images\" :before-upload=\"beforeUpload\"\n              :show-file-list=\"false\" :on-success=\"handleArticleCoverSuccess\">\n              <img v-if=\"websiteConfigForm.articleCover\" :src=\"websiteConfigForm.articleCover\" class=\"cover\" />\n              <i v-else class=\"el-icon-plus cover-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"邮箱通知\">\n            <el-radio-group v-model=\"websiteConfigForm.isEmailNotice\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"评论审核\">\n            <el-radio-group v-model=\"websiteConfigForm.isCommentReview\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"留言审核\">\n            <el-radio-group v-model=\"websiteConfigForm.isMessageReview\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"打赏状态\">\n            <el-radio-group v-model=\"websiteConfigForm.isReward\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-row style=\"width:600px\" v-show=\"websiteConfigForm.isReward == 1\">\n            <el-col :md=\"12\">\n              <el-form-item label=\"微信收款码\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleWeiXinSuccess\">\n                  <img v-if=\"websiteConfigForm.weiXinQRCode\" :src=\"websiteConfigForm.weiXinQRCode\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n            <el-col :md=\"12\">\n              <el-form-item label=\"支付宝收款码\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleAlipaySuccess\">\n                  <img v-if=\"websiteConfigForm.alipayQRCode\" :src=\"websiteConfigForm.alipayQRCode\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-button type=\"primary\" size=\"medium\" style=\"margin-left:6.3rem\" @click=\"updateWebsiteConfig\">\n            修改\n          </el-button>\n        </el-form>\n      </el-tab-pane>\n    </el-tabs>\n  </el-card>\n</template>\n\n<script>\nimport * as imageConversion from \"image-conversion\";\nexport default {\n  created() {\n    this.getWebsiteConfig();\n  },\n  data: function () {\n    return {\n      websiteConfigForm: {\n        websiteCover: \"\",\n        websiteAvatar: \"\",\n        websiteName: \"\",\n        websiteAuthor: \"\",\n        websiteIntro: \"\",\n        websiteNotice: \"\",\n        websiteCreateTime: null,\n        websiteRecordNo: \"\",\n        socialLoginList: [],\n        socialUrlList: [],\n        qq: \"\",\n        github: \"\",\n        gitee: \"\",\n        userAvatar: \"\",\n        touristAvatar: \"\",\n        isReward: 1,\n        weiXinQRCode: \"\",\n        alipayQRCode: \"\",\n        articleCover: \"\",\n        websocketUrl: \"\",\n        isEmailNotice: 1,\n        isCommentReview: 0,\n        isMessageReview: 0\n      },\n      activeName: \"info\"\n    };\n  },\n  methods: {\n    getWebsiteConfig() {\n      this.axios.get(\"/api/admin/website/config\").then(({ data }) => {\n        this.websiteConfigForm = data.data;\n      });\n    },\n    beforeUpload(file) {\n      return new Promise(resolve => {\n        if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n          resolve(file);\n        }\n        // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n        imageConversion\n          .compressAccurately(file, this.config.UPLOAD_SIZE)\n          .then(res => {\n            resolve(res);\n          });\n      });\n    },\n    handleClick(tab) {\n      console.log(tab);\n    },\n    handleWebsiteCoverSuccess(response) {\n      this.websiteConfigForm.websiteCover = response.data;\n    },\n    handleWebsiteAvatarSuccess(response) {\n      this.websiteConfigForm.websiteAvatar = response.data;\n    },\n    handleUserAvatarSuccess(response) {\n      this.websiteConfigForm.userAvatar = response.data;\n    },\n    handleArticleCoverSuccess(response) {\n      this.websiteConfigForm.articleCover = response.data;\n    },\n    handleTouristAvatarSuccess(response) {\n      this.websiteConfigForm.touristAvatar = response.data;\n    },\n    handleWeiXinSuccess(response) {\n      this.websiteConfigForm.weiXinQRCode = response.data;\n    },\n    handleAlipaySuccess(response) {\n      this.websiteConfigForm.alipayQRCode = response.data;\n    },\n    updateWebsiteConfig() {\n      this.axios\n        .put(\"/api/admin/website/config\", this.websiteConfigForm)\n        .then(({ data }) => {\n          if (data.flag) {\n            this.$notify.success({\n              title: \"成功\",\n              message: data.message\n            });\n          } else {\n            this.$notify.error({\n              title: \"失败\",\n              message: data.message\n            });\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n}\n\n.avatar {\n  width: 120px;\n  height: 120px;\n  display: block;\n}\n\n.cover-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.cover-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.cover-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 300px;\n  height: 160px;\n  line-height: 160px;\n  text-align: center;\n}\n\n.cover {\n  width: 300px;\n  height: 160px;\n  display: block;\n}\n</style>\n"],"sourceRoot":"src/views/website"}]}