{"remainingRequest":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js!C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\history\\History.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\history\\History.vue","mtime":1676894149192},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1686291315932},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1686291309679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBpbWFnZUNvbnZlcnNpb24gZnJvbSAiaW1hZ2UtY29udmVyc2lvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgcGF0aCA9IHRoaXMuJHJvdXRlLnBhdGg7CiAgICB2YXIgYXJyID0gcGF0aC5zcGxpdCgiLyIpOwogICAgdmFyIGFydGljbGVJZCA9IGFyclsyXTsKCiAgICBpZiAoYXJ0aWNsZUlkKSB7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2FkbWluL2FydGljbGVzLyIgKyBhcnRpY2xlSWQpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpcy5hcnRpY2xlID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBhcnRpY2xlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXJ0aWNsZSIpOwoKICAgICAgaWYgKGFydGljbGUpIHsKICAgICAgICB0aGlzLmFydGljbGUgPSBKU09OLnBhcnNlKGFydGljbGUpOwogICAgICB9CiAgICB9CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8v5paH56ug6Ieq5Yqo5L+d5a2Y5Yqf6IO9CiAgICB0aGlzLmF1dG9TYXZlQXJ0aWNsZSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZE9yRWRpdDogZmFsc2UsCiAgICAgIGF1dG9TYXZlOiB0cnVlLAogICAgICBjYXRlZ29yeU5hbWU6ICIiLAogICAgICB0YWdOYW1lOiAiIiwKICAgICAgY2F0ZWdvcnlMaXN0OiBbXSwKICAgICAgdGFnTGlzdDogW10sCiAgICAgIHR5cGVMaXN0OiBbewogICAgICAgIHR5cGU6IDEsCiAgICAgICAgZGVzYzogIuWOn+WImyIKICAgICAgfSwgewogICAgICAgIHR5cGU6IDIsCiAgICAgICAgZGVzYzogIui9rOi9vSIKICAgICAgfSwgewogICAgICAgIHR5cGU6IDMsCiAgICAgICAgZGVzYzogIue/u+ivkSIKICAgICAgfV0sCiAgICAgIGFydGljbGU6IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBhcnRpY2xlVGl0bGU6IHRoaXMuJG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgICBhcnRpY2xlQ29udGVudDogIiIsCiAgICAgICAgYXJ0aWNsZUNvdmVyOiAiIiwKICAgICAgICBjYXRlZ29yeU5hbWU6IG51bGwsCiAgICAgICAgdGFnTmFtZUxpc3Q6IFtdLAogICAgICAgIG9yaWdpbmFsVXJsOiAiIiwKICAgICAgICBpc1RvcDogMCwKICAgICAgICB0eXBlOiAxLAogICAgICAgIHN0YXR1czogMQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlzdENhdGVnb3JpZXM6IGZ1bmN0aW9uIGxpc3RDYXRlZ29yaWVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2FkbWluL2NhdGVnb3JpZXMvc2VhcmNoIikudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgX3RoaXMyLmNhdGVnb3J5TGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbGlzdFRhZ3M6IGZ1bmN0aW9uIGxpc3RUYWdzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2FkbWluL3RhZ3Mvc2VhcmNoIikudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgICAgX3RoaXMzLnRhZ0xpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5Nb2RlbDogZnVuY3Rpb24gb3Blbk1vZGVsKCkgewogICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVUaXRsZS50cmltKCkgPT0gIiIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DmoIfpopjkuI3og73kuLrnqboiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZUNvbnRlbnQudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5YaF5a655LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLmxpc3RDYXRlZ29yaWVzKCk7CiAgICAgIHRoaXMubGlzdFRhZ3MoKTsKICAgICAgdGhpcy5hZGRPckVkaXQgPSB0cnVlOwogICAgfSwKICAgIHVwbG9hZENvdmVyOiBmdW5jdGlvbiB1cGxvYWRDb3ZlcihyZXNwb25zZSkgewogICAgICB0aGlzLmFydGljbGUuYXJ0aWNsZUNvdmVyID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgPCBfdGhpczQuY29uZmlnLlVQTE9BRF9TSVpFKSB7CiAgICAgICAgICByZXNvbHZlKGZpbGUpOwogICAgICAgIH0gLy8g5Y6L57yp5YiwMjAwS0Is6L+Z6YeM55qEMjAw5bCx5piv6KaB5Y6L57yp55qE5aSn5bCPLOWPr+iHquWumuS5iQoKCiAgICAgICAgaW1hZ2VDb252ZXJzaW9uLmNvbXByZXNzQWNjdXJhdGVseShmaWxlLCBfdGhpczQuY29uZmlnLlVQTE9BRF9TSVpFKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkSW1nOiBmdW5jdGlvbiB1cGxvYWRJbWcocG9zLCBmaWxlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA8IHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKSB7CiAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZSk7CiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2FkbWluL2FydGljbGVzL2ltYWdlcyIsIGZvcm1kYXRhKS50aGVuKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmNC5kYXRhOwoKICAgICAgICAgIF90aGlzNS4kcmVmcy5tZC4kaW1nMlVybChwb3MsIGRhdGEuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5Y6L57yp5YiwMjAwS0Is6L+Z6YeM55qEMjAw5bCx5piv6KaB5Y6L57yp55qE5aSn5bCPLOWPr+iHquWumuS5iQogICAgICAgIGltYWdlQ29udmVyc2lvbi5jb21wcmVzc0FjY3VyYXRlbHkoZmlsZSwgdGhpcy5jb25maWcuVVBMT0FEX1NJWkUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCJmaWxlIiwgbmV3IHdpbmRvdy5GaWxlKFtyZXNdLCBmaWxlLm5hbWUsIHsKICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlCiAgICAgICAgICB9KSk7CgogICAgICAgICAgX3RoaXM1LmF4aW9zLnBvc3QoIi9hcGkvYWRtaW4vYXJ0aWNsZXMvaW1hZ2VzIiwgZm9ybWRhdGEpLnRoZW4oZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjUuZGF0YTsKCiAgICAgICAgICAgIF90aGlzNS4kcmVmcy5tZC4kaW1nMlVybChwb3MsIGRhdGEuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNhdmVBcnRpY2xlRHJhZnQ6IGZ1bmN0aW9uIHNhdmVBcnRpY2xlRHJhZnQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5qCH6aKY5LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVDb250ZW50LnRyaW0oKSA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOWGheWuueS4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5hcnRpY2xlLnN0YXR1cyA9IDM7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2FwaS9hZG1pbi9hcnRpY2xlcyIsIHRoaXMuYXJ0aWNsZSkudGhlbihmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY2LmRhdGE7CgogICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgIGlmIChfdGhpczYuYXJ0aWNsZS5pZCA9PT0gbnVsbCkgewogICAgICAgICAgICBfdGhpczYuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgIuWPkeW4g+aWh+eroCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM2LiRzdG9yZS5jb21taXQoInJlbW92ZVRhYiIsICLkv67mlLnmlofnq6AiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJhcnRpY2xlIik7CgogICAgICAgICAgX3RoaXM2LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICIvYXJ0aWNsZS1saXN0IgogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM2LiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOiNieeov+aIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczYuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAi5aSx6LSlIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOiNieeov+Wksei0pSIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8v5YWz6Zet6Ieq5Yqo5L+d5a2Y5Yqf6IO9CgogICAgICB0aGlzLmF1dG9TYXZlID0gZmFsc2U7CiAgICB9LAogICAgc2F2ZU9yVXBkYXRlQXJ0aWNsZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlQXJ0aWNsZSgpIHsKICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5qCH6aKY5LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVDb250ZW50LnRyaW0oKSA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOWGheWuueS4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5jYXRlZ29yeU5hbWUgPT0gbnVsbCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOWIhuexu+S4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOagh+etvuS4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlQ292ZXIudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5bCB6Z2i5LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmFydGljbGUpOyAvLyB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvYWRtaW4vYXJ0aWNsZXMiLCB0aGlzLmFydGljbGUpLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgIC8vICAgaWYgKGRhdGEuZmxhZykgewogICAgICAvLyAgICAgaWYgKHRoaXMuYXJ0aWNsZS5pZCA9PT0gbnVsbCkgewogICAgICAvLyAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZVRhYiIsICLlj5HluIPmlofnq6AiKTsKICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgIuS/ruaUueaWh+eroCIpOwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgiYXJ0aWNsZSIpOwogICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2FydGljbGUtbGlzdCIgfSk7CiAgICAgIC8vICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgIC8vICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwKICAgICAgLy8gICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICB9IGVsc2UgewogICAgICAvLyAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgLy8gICAgICAgdGl0bGU6ICLlpLHotKUiLAogICAgICAvLyAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgIH0KICAgICAgLy8gICB0aGlzLmFkZE9yRWRpdCA9IGZhbHNlOwogICAgICAvLyB9KTsKICAgICAgLy/lhbPpl63oh6rliqjkv53lrZjlip/og70KCiAgICAgIHRoaXMuYXV0b1NhdmUgPSBmYWxzZTsKICAgIH0sCiAgICBhdXRvU2F2ZUFydGljbGU6IGZ1bmN0aW9uIGF1dG9TYXZlQXJ0aWNsZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICAvLyDoh6rliqjkuIrkvKDmlofnq6AKICAgICAgaWYgKHRoaXMuYXV0b1NhdmUgJiYgdGhpcy5hcnRpY2xlLmFydGljbGVUaXRsZS50cmltKCkgIT0gIiIgJiYgdGhpcy5hcnRpY2xlLmFydGljbGVDb250ZW50LnRyaW0oKSAhPSAiIiAmJiB0aGlzLmFydGljbGUuaWQgIT0gbnVsbCkgewogICAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2FwaS9hZG1pbi9hcnRpY2xlcyIsIHRoaXMuYXJ0aWNsZSkudGhlbihmdW5jdGlvbiAoX3JlZjcpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjcuZGF0YTsKCiAgICAgICAgICBpZiAoZGF0YS5mbGFnKSB7CiAgICAgICAgICAgIF90aGlzNy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi6Ieq5Yqo5L+d5a2Y5oiQ5YqfIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuiHquWKqOS/neWtmOWksei0pSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gLy8g5L+d5a2Y5pys5Zyw5paH56ug6K6w5b2VCgoKICAgICAgaWYgKHRoaXMuYXV0b1NhdmUgJiYgdGhpcy5hcnRpY2xlLmlkID09IG51bGwpIHsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhcnRpY2xlIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5hcnRpY2xlKSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hDYXRlZ29yaWVzOiBmdW5jdGlvbiBzZWFyY2hDYXRlZ29yaWVzKGtleXdvcmRzLCBjYikgewogICAgICB0aGlzLmF4aW9zLmdldCgiL2FwaS9hZG1pbi9jYXRlZ29yaWVzL3NlYXJjaCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGtleXdvcmRzOiBrZXl3b3JkcwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjgpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY4LmRhdGE7CiAgICAgICAgY2IoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0Q2F0ZWdvcmllczogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Q2F0ZWdvcmllcyhpdGVtKSB7CiAgICAgIHRoaXMuYWRkQ2F0ZWdvcnkoewogICAgICAgIGNhdGVnb3J5TmFtZTogaXRlbS5jYXRlZ29yeU5hbWUKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUNhdGVnb3J5OiBmdW5jdGlvbiBzYXZlQ2F0ZWdvcnkoKSB7CiAgICAgIGlmICh0aGlzLmNhdGVnb3J5TmFtZS50cmltKCkgIT0gIiIpIHsKICAgICAgICB0aGlzLmFkZENhdGVnb3J5KHsKICAgICAgICAgIGNhdGVnb3J5TmFtZTogdGhpcy5jYXRlZ29yeU5hbWUKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhdGVnb3J5TmFtZSA9ICIiOwogICAgICB9CiAgICB9LAogICAgYWRkQ2F0ZWdvcnk6IGZ1bmN0aW9uIGFkZENhdGVnb3J5KGl0ZW0pIHsKICAgICAgdGhpcy5hcnRpY2xlLmNhdGVnb3J5TmFtZSA9IGl0ZW0uY2F0ZWdvcnlOYW1lOwogICAgfSwKICAgIHJlbW92ZUNhdGVnb3J5OiBmdW5jdGlvbiByZW1vdmVDYXRlZ29yeSgpIHsKICAgICAgdGhpcy5hcnRpY2xlLmNhdGVnb3J5TmFtZSA9IG51bGw7CiAgICB9LAogICAgc2VhcmNoVGFnczogZnVuY3Rpb24gc2VhcmNoVGFncyhrZXl3b3JkcywgY2IpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvYWRtaW4vdGFncy9zZWFyY2giLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBrZXl3b3Jkczoga2V5d29yZHMKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWY5KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmOS5kYXRhOwogICAgICAgIGNiKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdFRhZzogZnVuY3Rpb24gaGFuZGxlU2VsZWN0VGFnKGl0ZW0pIHsKICAgICAgdGhpcy5hZGRUYWcoewogICAgICAgIHRhZ05hbWU6IGl0ZW0udGFnTmFtZQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlVGFnOiBmdW5jdGlvbiBzYXZlVGFnKCkgewogICAgICBpZiAodGhpcy50YWdOYW1lLnRyaW0oKSAhPSAiIikgewogICAgICAgIHRoaXMuYWRkVGFnKHsKICAgICAgICAgIHRhZ05hbWU6IHRoaXMudGFnTmFtZQogICAgICAgIH0pOwogICAgICAgIHRoaXMudGFnTmFtZSA9ICIiOwogICAgICB9CiAgICB9LAogICAgYWRkVGFnOiBmdW5jdGlvbiBhZGRUYWcoaXRlbSkgewogICAgICBpZiAodGhpcy5hcnRpY2xlLnRhZ05hbWVMaXN0LmluZGV4T2YoaXRlbS50YWdOYW1lKSA9PSAtMSkgewogICAgICAgIHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5wdXNoKGl0ZW0udGFnTmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVUYWc6IGZ1bmN0aW9uIHJlbW92ZVRhZyhpdGVtKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmFydGljbGUudGFnTmFtZUxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWdDbGFzczogZnVuY3Rpb24gdGFnQ2xhc3MoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBpbmRleCA9IHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5pbmRleE9mKGl0ZW0udGFnTmFtZSk7CiAgICAgICAgcmV0dXJuIGluZGV4ICE9IC0xID8gInRhZy1pdGVtLXNlbGVjdCIgOiAidGFnLWl0ZW0iOwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["History.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA,OAAA,KAAA,eAAA,MAAA,kBAAA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,QAAA,IAAA,GAAA,KAAA,MAAA,CAAA,IAAA;AACA,QAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,QAAA,SAAA,GAAA,GAAA,CAAA,CAAA,CAAA;;AACA,QAAA,SAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,yBAAA,SAAA,EAAA,IAAA,CAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAJA,MAIA;AACA,UAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,SAAA,CAAA;;AACA,UAAA,OAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA;AACA;AACA,GAfA;AAgBA,EAAA,SAhBA,uBAgBA;AACA;AACA,SAAA,eAAA;AACA,GAnBA;AAoBA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OATA,CAPA;AAqBA,MAAA,OAAA,EAAA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,YAAA,EAAA,KAAA,OAAA,CAAA,IAAA,IAAA,EAAA,EAAA,MAAA,CAAA,YAAA,CAFA;AAGA,QAAA,cAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA,EAJA;AAKA,QAAA,YAAA,EAAA,IALA;AAMA,QAAA,WAAA,EAAA,EANA;AAOA,QAAA,WAAA,EAAA,EAPA;AAQA,QAAA,KAAA,EAAA,CARA;AASA,QAAA,IAAA,EAAA,CATA;AAUA,QAAA,MAAA,EAAA;AAVA;AArBA,KAAA;AAkCA,GAvDA;AAwDA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,8BAAA,EAAA,IAAA,CAAA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,QANA,sBAMA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,IAAA,CAAA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAVA;AAWA,IAAA,SAXA,uBAWA;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,cAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,WAAA,cAAA;AACA,WAAA,QAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KAvBA;AAwBA,IAAA,WAxBA,uBAwBA,QAxBA,EAwBA;AACA,WAAA,OAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA;AACA,KA1BA;AA2BA,IAAA,YA3BA,wBA2BA,IA3BA,EA2BA;AAAA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA;AACA,SAHA,CAIA;;;AACA,QAAA,eAAA,CACA,kBADA,CACA,IADA,EACA,MAAA,CAAA,MAAA,CAAA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA;AACA,SAJA;AAKA,OAVA,CAAA;AAWA,KAvCA;AAwCA,IAAA,SAxCA,qBAwCA,GAxCA,EAwCA,IAxCA,EAwCA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,KAAA,MAAA,CAAA,WAAA,EAAA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA;AACA,aAAA,KAAA,CACA,IADA,CACA,4BADA,EACA,QADA,EAEA,IAFA,CAEA,iBAAA;AAAA,cAAA,IAAA,SAAA,IAAA;;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA,QAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA;AACA,SAJA;AAKA,OAPA,MAOA;AACA;AACA,QAAA,eAAA,CACA,kBADA,CACA,IADA,EACA,KAAA,MAAA,CAAA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CACA,MADA,EAEA,IAAA,MAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA;AAAA,YAAA,IAAA,EAAA,IAAA,CAAA;AAAA,WAAA,CAFA;;AAIA,UAAA,MAAA,CAAA,KAAA,CACA,IADA,CACA,4BADA,EACA,QADA,EAEA,IAFA,CAEA,iBAAA;AAAA,gBAAA,IAAA,SAAA,IAAA;;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA,QAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA;AACA,WAJA;AAKA,SAZA;AAaA;AACA,KAjEA;AAkEA,IAAA,gBAlEA,8BAkEA;AAAA;;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,cAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,WAAA,OAAA,CAAA,MAAA,GAAA,CAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,EAAA,KAAA,OAAA,EAAA,IAAA,CAAA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,cAAA,MAAA,CAAA,OAAA,CAAA,EAAA,KAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,MAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,MAAA;AACA;;AACA,UAAA,cAAA,CAAA,UAAA,CAAA,SAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA,SAZA,MAYA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAnBA,EAVA,CA+BA;;AACA,WAAA,QAAA,GAAA,KAAA;AACA,KAnGA;AAoGA,IAAA,mBApGA,iCAoGA;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,cAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,IAAA,IAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,eAAA,KAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA,EArBA,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAA,QAAA,GAAA,KAAA;AACA,KAjJA;AAkJA,IAAA,eAlJA,6BAkJA;AAAA;;AACA;AACA,UACA,KAAA,QAAA,IACA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,MAAA,EADA,IAEA,KAAA,OAAA,CAAA,cAAA,CAAA,IAAA,MAAA,EAFA,IAGA,KAAA,OAAA,CAAA,EAAA,IAAA,IAJA,EAKA;AACA,aAAA,KAAA,CACA,IADA,CACA,qBADA,EACA,KAAA,OADA,EAEA,IAFA,CAEA,iBAAA;AAAA,cAAA,IAAA,SAAA,IAAA;;AACA,cAAA,IAAA,CAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,cAAA,KAAA,EAAA,IADA;AAEA,cAAA,OAAA,EAAA;AAFA,aAAA;AAIA,WALA,MAKA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,cAAA,KAAA,EAAA,IADA;AAEA,cAAA,OAAA,EAAA;AAFA,aAAA;AAIA;AACA,SAdA;AAeA,OAvBA,CAwBA;;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,OAAA,CAAA,EAAA,IAAA,IAAA,EAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,SAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,OAAA,CAAA;AACA;AACA,KA9KA;AA+KA,IAAA,gBA/KA,4BA+KA,QA/KA,EA+KA,EA/KA,EA+KA;AACA,WAAA,KAAA,CACA,GADA,CACA,8BADA,EACA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,QAAA,EAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,QAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,OARA;AASA,KAzLA;AA0LA,IAAA,sBA1LA,kCA0LA,IA1LA,EA0LA;AACA,WAAA,WAAA,CAAA;AACA,QAAA,YAAA,EAAA,IAAA,CAAA;AADA,OAAA;AAGA,KA9LA;AA+LA,IAAA,YA/LA,0BA+LA;AACA,UAAA,KAAA,YAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,WAAA,CAAA;AACA,UAAA,YAAA,EAAA,KAAA;AADA,SAAA;AAGA,aAAA,YAAA,GAAA,EAAA;AACA;AACA,KAtMA;AAuMA,IAAA,WAvMA,uBAuMA,IAvMA,EAuMA;AACA,WAAA,OAAA,CAAA,YAAA,GAAA,IAAA,CAAA,YAAA;AACA,KAzMA;AA0MA,IAAA,cA1MA,4BA0MA;AACA,WAAA,OAAA,CAAA,YAAA,GAAA,IAAA;AACA,KA5MA;AA6MA,IAAA,UA7MA,sBA6MA,QA7MA,EA6MA,EA7MA,EA6MA;AACA,WAAA,KAAA,CACA,GADA,CACA,wBADA,EACA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,QAAA,EAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,QAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,OARA;AASA,KAvNA;AAwNA,IAAA,eAxNA,2BAwNA,IAxNA,EAwNA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,IAAA,CAAA;AADA,OAAA;AAGA,KA5NA;AA6NA,IAAA,OA7NA,qBA6NA;AACA,UAAA,KAAA,OAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,UAAA,OAAA,EAAA,KAAA;AADA,SAAA;AAGA,aAAA,OAAA,GAAA,EAAA;AACA;AACA,KApOA;AAqOA,IAAA,MArOA,kBAqOA,IArOA,EAqOA;AACA,UAAA,KAAA,OAAA,CAAA,WAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,KAzOA;AA0OA,IAAA,SA1OA,qBA0OA,IA1OA,EA0OA;AACA,UAAA,KAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,WAAA,OAAA,CAAA,WAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AA7OA,GAxDA;AAuSA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,eAAA,KAAA,IAAA,CAAA,CAAA,GAAA,iBAAA,GAAA,UAAA;AACA,OAHA;AAIA;AANA;AAvSA,CAAA","sourcesContent":["<template>\n    <el-card class=\"main-card\">\n        <div class=\"title\">{{ this.$route.name }}</div>\n        <!-- 文章标题 -->\n        <div class=\"article-title-container\">\n            <el-input v-model=\"article.articleTitle\" size=\"medium\" placeholder=\"输入文章标题\" />\n            <el-button type=\"danger\" size=\"medium\" class=\"save-btn\" @click=\"saveArticleDraft\"\n                v-if=\"article.id == null || article.status == 3\">\n                保存草稿\n            </el-button>\n            <el-button type=\"danger\" size=\"medium\" @click=\"openModel\" style=\"margin-left:10px\">\n                发布文章\n            </el-button>\n        </div>\n        <!-- 文章内容 -->\n        <mavon-editor ref=\"md\" v-model=\"article.articleContent\" @imgAdd=\"uploadImg\"\n            style=\"height:calc(100vh - 260px)\" />\n        <!-- 添加文章对话框 -->\n        <el-dialog :visible.sync=\"addOrEdit\" width=\"40%\" top=\"3vh\">\n            <div class=\"dialog-title-container\" slot=\"title\">\n                发布文章\n            </div>\n            <!-- 文章数据 -->\n            <el-form label-width=\"80px\" size=\"medium\" :model=\"article\">\n                <!-- 文章分类 -->\n                <el-form-item label=\"文章分类\">\n                    <el-tag type=\"success\" v-show=\"article.categoryName\" style=\"margin:0 1rem 0 0\" :closable=\"true\"\n                        @close=\"removeCategory\">\n                        {{ article.categoryName }}\n                    </el-tag>\n                    <!-- 分类选项 -->\n                    <el-popover placement=\"bottom-start\" width=\"460\" trigger=\"click\" v-if=\"!article.categoryName\">\n                        <div class=\"popover-title\">分类</div>\n                        <!-- 搜索框 -->\n                        <el-autocomplete style=\"width:100%\" v-model=\"categoryName\" :fetch-suggestions=\"searchCategories\"\n                            placeholder=\"请输入分类名搜索，enter可添加自定义分类\" :trigger-on-focus=\"false\"\n                            @keyup.enter.native=\"saveCategory\" @select=\"handleSelectCategories\">\n                            <template slot-scope=\"{ item }\">\n                                <div>{{ item.categoryName }}</div>\n                            </template>\n                        </el-autocomplete>\n                        <!-- 分类 -->\n                        <div class=\"popover-container\">\n                            <div v-for=\"item of categoryList\" :key=\"item.id\" class=\"category-item\"\n                                @click=\"addCategory(item)\">\n                                {{ item.categoryName }}\n                            </div>\n                        </div>\n                        <el-button type=\"success\" plain slot=\"reference\" size=\"small\">\n                            添加分类\n                        </el-button>\n                    </el-popover>\n                </el-form-item>\n                <!-- 文章标签 -->\n                <el-form-item label=\"文章标签\">\n                    <el-tag v-for=\"(item, index) of article.tagNameList\" :key=\"index\" style=\"margin:0 1rem 0 0\"\n                        :closable=\"true\" @close=\"removeTag(item)\">\n                        {{ item }}\n                    </el-tag>\n                    <!-- 标签选项 -->\n                    <el-popover placement=\"bottom-start\" width=\"460\" trigger=\"click\"\n                        v-if=\"article.tagNameList.length < 3\">\n                        <div class=\"popover-title\">标签</div>\n                        <!-- 搜索框 -->\n                        <el-autocomplete style=\"width:100%\" v-model=\"tagName\" :fetch-suggestions=\"searchTags\"\n                            placeholder=\"请输入标签名搜索，enter可添加自定义标签\" :trigger-on-focus=\"false\" @keyup.enter.native=\"saveTag\"\n                            @select=\"handleSelectTag\">\n                            <template slot-scope=\"{ item }\">\n                                <div>{{ item.tagName }}</div>\n                            </template>\n                        </el-autocomplete>\n                        <!-- 标签 -->\n                        <div class=\"popover-container\">\n                            <div style=\"margin-bottom:1rem\">添加标签</div>\n                            <el-tag v-for=\"(item, index) of tagList\" :key=\"index\" :class=\"tagClass(item)\"\n                                @click=\"addTag(item)\">\n                                {{ item.tagName }}\n                            </el-tag>\n                        </div>\n                        <el-button type=\"primary\" plain slot=\"reference\" size=\"small\">\n                            添加标签\n                        </el-button>\n                    </el-popover>\n                </el-form-item>\n                <el-form-item label=\"文章类型\">\n                    <el-select v-model=\"article.type\" placeholder=\"请选择类型\">\n                        <el-option v-for=\"item in typeList\" :key=\"item.type\" :label=\"item.desc\" :value=\"item.type\" />\n                    </el-select>\n                </el-form-item>\n                <!-- 文章类型 -->\n                <el-form-item label=\"原文地址\" v-if=\"article.type != 1\">\n                    <el-input v-model=\"article.originalUrl\" placeholder=\"请填写原文链接\" />\n                </el-form-item>\n                <el-form-item label=\"上传封面\">\n                    <el-upload class=\"upload-cover\" drag action=\"/api/admin/articles/images\" multiple\n                        :before-upload=\"beforeUpload\" :on-success=\"uploadCover\">\n                        <i class=\"el-icon-upload\" v-if=\"article.articleCover == ''\" />\n                        <div class=\"el-upload__text\" v-if=\"article.articleCover == ''\">\n                            将文件拖到此处，或<em>点击上传</em>\n                        </div>\n                        <img v-else :src=\"article.articleCover\" width=\"360px\" height=\"180px\" />\n                    </el-upload>\n                </el-form-item>\n                <el-form-item label=\"置顶\">\n                    <el-switch v-model=\"article.isTop\" active-color=\"#13ce66\" inactive-color=\"#F4F4F5\" :active-value=\"1\"\n                        :inactive-value=\"0\" />\n                </el-form-item>\n                <el-form-item label=\"发布形式\">\n                    <el-radio-group v-model=\"article.status\">\n                        <el-radio :label=\"1\">公开</el-radio>\n                        <el-radio :label=\"2\">私密</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\">\n                <el-button @click=\"addOrEdit = false\">取 消</el-button>\n                <el-button type=\"danger\" @click=\"saveOrUpdateArticle\">\n                    发 表\n                </el-button>\n            </div>\n        </el-dialog>\n    </el-card>\n</template>\n  \n<script>\nimport * as imageConversion from \"image-conversion\";\nexport default {\n    created() {\n        const path = this.$route.path;\n        const arr = path.split(\"/\");\n        const articleId = arr[2];\n        if (articleId) {\n            this.axios.get(\"/api/admin/articles/\" + articleId).then(({ data }) => {\n                this.article = data.data;\n            });\n        } else {\n            const article = sessionStorage.getItem(\"article\");\n            if (article) {\n                this.article = JSON.parse(article);\n            }\n        }\n    },\n    destroyed() {\n        //文章自动保存功能\n        this.autoSaveArticle();\n    },\n    data: function () {\n        return {\n            addOrEdit: false,\n            autoSave: true,\n            categoryName: \"\",\n            tagName: \"\",\n            categoryList: [],\n            tagList: [],\n            typeList: [\n                {\n                    type: 1,\n                    desc: \"原创\",\n                },\n                {\n                    type: 2,\n                    desc: \"转载\",\n                },\n                {\n                    type: 3,\n                    desc: \"翻译\",\n                },\n            ],\n            article: {\n                id: null,\n                articleTitle: this.$moment(new Date()).format(\"YYYY-MM-DD\"),\n                articleContent: \"\",\n                articleCover: \"\",\n                categoryName: null,\n                tagNameList: [],\n                originalUrl: \"\",\n                isTop: 0,\n                type: 1,\n                status: 1,\n            },\n        };\n    },\n    methods: {\n        listCategories() {\n            this.axios.get(\"/api/admin/categories/search\").then(({ data }) => {\n                this.categoryList = data.data;\n            });\n        },\n        listTags() {\n            this.axios.get(\"/api/admin/tags/search\").then(({ data }) => {\n                this.tagList = data.data;\n            });\n        },\n        openModel() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            this.listCategories();\n            this.listTags();\n            this.addOrEdit = true;\n        },\n        uploadCover(response) {\n            this.article.articleCover = response.data;\n        },\n        beforeUpload(file) {\n            return new Promise((resolve) => {\n                if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n                    resolve(file);\n                }\n                // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n                imageConversion\n                    .compressAccurately(file, this.config.UPLOAD_SIZE)\n                    .then((res) => {\n                        resolve(res);\n                    });\n            });\n        },\n        uploadImg(pos, file) {\n            var formdata = new FormData();\n            if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n                formdata.append(\"file\", file);\n                this.axios\n                    .post(\"/api/admin/articles/images\", formdata)\n                    .then(({ data }) => {\n                        this.$refs.md.$img2Url(pos, data.data);\n                    });\n            } else {\n                // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n                imageConversion\n                    .compressAccurately(file, this.config.UPLOAD_SIZE)\n                    .then((res) => {\n                        formdata.append(\n                            \"file\",\n                            new window.File([res], file.name, { type: file.type })\n                        );\n                        this.axios\n                            .post(\"/api/admin/articles/images\", formdata)\n                            .then(({ data }) => {\n                                this.$refs.md.$img2Url(pos, data.data);\n                            });\n                    });\n            }\n        },\n        saveArticleDraft() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            this.article.status = 3;\n            this.axios.post(\"/api/admin/articles\", this.article).then(({ data }) => {\n                if (data.flag) {\n                    if (this.article.id === null) {\n                        this.$store.commit(\"removeTab\", \"发布文章\");\n                    } else {\n                        this.$store.commit(\"removeTab\", \"修改文章\");\n                    }\n                    sessionStorage.removeItem(\"article\");\n                    this.$router.push({ path: \"/article-list\" });\n                    this.$notify.success({\n                        title: \"成功\",\n                        message: \"保存草稿成功\",\n                    });\n                } else {\n                    this.$notify.error({\n                        title: \"失败\",\n                        message: \"保存草稿失败\",\n                    });\n                }\n            });\n\n            //关闭自动保存功能\n            this.autoSave = false;\n        },\n        saveOrUpdateArticle() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            if (this.article.categoryName == null) {\n                this.$message.error(\"文章分类不能为空\");\n                return false;\n            }\n            if (this.article.tagNameList.length == 0) {\n                this.$message.error(\"文章标签不能为空\");\n                return false;\n            }\n            if (this.article.articleCover.trim() == \"\") {\n                this.$message.error(\"文章封面不能为空\");\n                return false;\n            }\n            console.log(this.article);\n            // this.axios.post(\"/api/admin/articles\", this.article).then(({ data }) => {\n            //   if (data.flag) {\n            //     if (this.article.id === null) {\n            //       this.$store.commit(\"removeTab\", \"发布文章\");\n            //     } else {\n            //       this.$store.commit(\"removeTab\", \"修改文章\");\n            //     }\n            //     sessionStorage.removeItem(\"article\");\n            //     this.$router.push({ path: \"/article-list\" });\n            //     this.$notify.success({\n            //       title: \"成功\",\n            //       message: data.message\n            //     });\n            //   } else {\n            //     this.$notify.error({\n            //       title: \"失败\",\n            //       message: data.message\n            //     });\n            //   }\n            //   this.addOrEdit = false;\n            // });\n            //关闭自动保存功能\n            this.autoSave = false;\n        },\n        autoSaveArticle() {\n            // 自动上传文章\n            if (\n                this.autoSave &&\n                this.article.articleTitle.trim() != \"\" &&\n                this.article.articleContent.trim() != \"\" &&\n                this.article.id != null\n            ) {\n                this.axios\n                    .post(\"/api/admin/articles\", this.article)\n                    .then(({ data }) => {\n                        if (data.flag) {\n                            this.$notify.success({\n                                title: \"成功\",\n                                message: \"自动保存成功\",\n                            });\n                        } else {\n                            this.$notify.error({\n                                title: \"失败\",\n                                message: \"自动保存失败\",\n                            });\n                        }\n                    });\n            }\n            // 保存本地文章记录\n            if (this.autoSave && this.article.id == null) {\n                sessionStorage.setItem(\"article\", JSON.stringify(this.article));\n            }\n        },\n        searchCategories(keywords, cb) {\n            this.axios\n                .get(\"/api/admin/categories/search\", {\n                    params: {\n                        keywords: keywords,\n                    },\n                })\n                .then(({ data }) => {\n                    cb(data.data);\n                });\n        },\n        handleSelectCategories(item) {\n            this.addCategory({\n                categoryName: item.categoryName,\n            });\n        },\n        saveCategory() {\n            if (this.categoryName.trim() != \"\") {\n                this.addCategory({\n                    categoryName: this.categoryName,\n                });\n                this.categoryName = \"\";\n            }\n        },\n        addCategory(item) {\n            this.article.categoryName = item.categoryName;\n        },\n        removeCategory() {\n            this.article.categoryName = null;\n        },\n        searchTags(keywords, cb) {\n            this.axios\n                .get(\"/api/admin/tags/search\", {\n                    params: {\n                        keywords: keywords,\n                    },\n                })\n                .then(({ data }) => {\n                    cb(data.data);\n                });\n        },\n        handleSelectTag(item) {\n            this.addTag({\n                tagName: item.tagName,\n            });\n        },\n        saveTag() {\n            if (this.tagName.trim() != \"\") {\n                this.addTag({\n                    tagName: this.tagName,\n                });\n                this.tagName = \"\";\n            }\n        },\n        addTag(item) {\n            if (this.article.tagNameList.indexOf(item.tagName) == -1) {\n                this.article.tagNameList.push(item.tagName);\n            }\n        },\n        removeTag(item) {\n            const index = this.article.tagNameList.indexOf(item);\n            this.article.tagNameList.splice(index, 1);\n        },\n    },\n    computed: {\n        tagClass() {\n            return function (item) {\n                const index = this.article.tagNameList.indexOf(item.tagName);\n                return index != -1 ? \"tag-item-select\" : \"tag-item\";\n            };\n        },\n    },\n};\n</script>\n  \n<style scoped>\n.article-title-container {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1.25rem;\n    margin-top: 2.25rem;\n}\n\n.save-btn {\n    margin-left: 0.75rem;\n    background: #fff;\n    color: #f56c6c;\n}\n\n.tag-item {\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n    cursor: pointer;\n}\n\n.tag-item-select {\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n    cursor: not-allowed;\n    color: #ccccd8 !important;\n}\n\n.category-item {\n    cursor: pointer;\n    padding: 0.6rem 0.5rem;\n}\n\n.category-item:hover {\n    background-color: #f0f9eb;\n    color: #67c23a;\n}\n\n.popover-title {\n    margin-bottom: 1rem;\n    text-align: center;\n}\n\n.popover-container {\n    margin-top: 1rem;\n    height: 260px;\n    overflow-y: auto;\n}\n</style>\n  "],"sourceRoot":"src/views/history"}]}