{"remainingRequest":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\website\\Website.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\website\\Website.vue","mtime":1676894149449},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":1686291314469},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1686291311203},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1686291307318},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1686291309679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5hdmF0YXItdXBsb2FkZXIgLmVsLXVwbG9hZDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiAjNDA5ZWZmOwp9CgouYXZhdGFyLXVwbG9hZGVyLWljb24gewogIGZvbnQtc2l6ZTogMjhweDsKICBjb2xvcjogIzhjOTM5ZDsKICB3aWR0aDogMTIwcHg7CiAgaGVpZ2h0OiAxMjBweDsKICBsaW5lLWhlaWdodDogMTIwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouYXZhdGFyIHsKICB3aWR0aDogMTIwcHg7CiAgaGVpZ2h0OiAxMjBweDsKICBkaXNwbGF5OiBibG9jazsKfQoKLmNvdmVyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5jb3Zlci11cGxvYWRlciAuZWwtdXBsb2FkOmhvdmVyIHsKICBib3JkZXItY29sb3I6ICM0MDllZmY7Cn0KCi5jb3Zlci11cGxvYWRlci1pY29uIHsKICBmb250LXNpemU6IDI4cHg7CiAgY29sb3I6ICM4YzkzOWQ7CiAgd2lkdGg6IDMwMHB4OwogIGhlaWdodDogMTYwcHg7CiAgbGluZS1oZWlnaHQ6IDE2MHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmNvdmVyIHsKICB3aWR0aDogMzAwcHg7CiAgaGVpZ2h0OiAxNjBweDsKICBkaXNwbGF5OiBibG9jazsKfQo="},{"version":3,"sources":["Website.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Website.vue","sourceRoot":"src/views/website","sourcesContent":["<template>\n  <el-card class=\"main-card\">\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n      <!-- 修改信息 -->\n      <el-tab-pane label=\"网站信息\" name=\"info\">\n        <el-form label-width=\"100px\" :model=\"websiteConfigForm\" label-position=\"left\">\n          <el-form-item label=\"网站头像\">\n            <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n              :on-success=\"handleWebsiteAvatarSuccess\">\n              <img v-if=\"websiteConfigForm.websiteAvatar\" :src=\"websiteConfigForm.websiteAvatar\" class=\"avatar\" />\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"网站封面\">\n            <el-upload class=\"cover-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n              :on-success=\"handleWebsiteCoverSuccess\">\n              <img v-if=\"websiteConfigForm.websiteCover\" :src=\"websiteConfigForm.websiteCover\" class=\"cover\" />\n              <i v-else class=\"el-icon-plus cover-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"网站名称\">\n            <el-input v-model=\"websiteConfigForm.websiteName\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站作者\">\n            <el-input v-model=\"websiteConfigForm.websiteAuthor\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站简介\">\n            <el-input v-model=\"websiteConfigForm.websiteIntro\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"网站创建日期\">\n            <el-date-picker style=\"width:400px\" value-format=\"yyyy-MM-dd\" v-model=\"websiteConfigForm.websiteCreateTime\"\n              type=\"date\" placeholder=\"选择日期\" />\n          </el-form-item>\n          <el-form-item label=\"网站公告\">\n            <el-input v-model=\"websiteConfigForm.websiteNotice\" placeholder=\"请输入公告内容\" style=\"width:400px\"\n              type=\"textarea\" :rows=\"5\" />\n          </el-form-item>\n          <el-form-item label=\"备案号\">\n            <el-input v-model=\"websiteConfigForm.websiteRecordNo\" size=\"small\" style=\"width:400px\" />\n          </el-form-item>\n          <el-form-item label=\"第三方登录\">\n            <el-checkbox-group v-model=\"websiteConfigForm.socialLoginList\">\n              <el-checkbox label=\"qq\">QQ</el-checkbox>\n              <el-checkbox label=\"weibo\">微博</el-checkbox>\n            </el-checkbox-group>\n          </el-form-item>\n          <el-button type=\"primary\" size=\"medium\" style=\"margin-left:6.3rem\" @click=\"updateWebsiteConfig\">\n            修改\n          </el-button>\n        </el-form>\n      </el-tab-pane>\n      <!-- 网站公告 -->\n      <el-tab-pane label=\"社交信息\" name=\"notice\">\n        <el-form label-width=\"70px\" :model=\"websiteConfigForm\">\n          <el-checkbox-group v-model=\"websiteConfigForm.socialUrlList\">\n            <el-form-item label=\"QQ\">\n              <el-input v-model=\"websiteConfigForm.qq\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"qq\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-form-item label=\"Github\">\n              <el-input v-model=\"websiteConfigForm.github\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"github\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-form-item label=\"Gitee\">\n              <el-input v-model=\"websiteConfigForm.gitee\" size=\"small\" style=\"width:400px;margin-right:1rem\" />\n              <el-checkbox label=\"gitee\">是否展示</el-checkbox>\n            </el-form-item>\n            <el-button type=\"primary\" size=\"medium\" style=\"margin-left:4.375rem\" @click=\"updateWebsiteConfig\">\n              修改\n            </el-button>\n          </el-checkbox-group>\n        </el-form>\n      </el-tab-pane>\n      <!-- 修改密码 -->\n      <el-tab-pane label=\"其他设置\" name=\"password\">\n        <el-form label-width=\"120px\" :model=\"websiteConfigForm\" label-position=\"left\">\n          <el-row style=\"width:600px\">\n            <el-col :md=\"12\">\n              <el-form-item label=\"用户头像\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleUserAvatarSuccess\">\n                  <img v-if=\"websiteConfigForm.userAvatar\" :src=\"websiteConfigForm.userAvatar\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n            <el-col :md=\"12\">\n              <el-form-item label=\"游客头像\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleTouristAvatarSuccess\">\n                  <img v-if=\"websiteConfigForm.touristAvatar\" :src=\"websiteConfigForm.touristAvatar\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-form-item label=\"默认文章封面\">\n            <el-upload class=\"cover-uploader\" action=\"/api/admin/config/images\" :before-upload=\"beforeUpload\"\n              :show-file-list=\"false\" :on-success=\"handleArticleCoverSuccess\">\n              <img v-if=\"websiteConfigForm.articleCover\" :src=\"websiteConfigForm.articleCover\" class=\"cover\" />\n              <i v-else class=\"el-icon-plus cover-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"邮箱通知\">\n            <el-radio-group v-model=\"websiteConfigForm.isEmailNotice\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"评论审核\">\n            <el-radio-group v-model=\"websiteConfigForm.isCommentReview\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"留言审核\">\n            <el-radio-group v-model=\"websiteConfigForm.isMessageReview\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"打赏状态\">\n            <el-radio-group v-model=\"websiteConfigForm.isReward\">\n              <el-radio :label=\"0\">关闭</el-radio>\n              <el-radio :label=\"1\">开启</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-row style=\"width:600px\" v-show=\"websiteConfigForm.isReward == 1\">\n            <el-col :md=\"12\">\n              <el-form-item label=\"微信收款码\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleWeiXinSuccess\">\n                  <img v-if=\"websiteConfigForm.weiXinQRCode\" :src=\"websiteConfigForm.weiXinQRCode\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n            <el-col :md=\"12\">\n              <el-form-item label=\"支付宝收款码\">\n                <el-upload class=\"avatar-uploader\" action=\"/api/admin/config/images\" :show-file-list=\"false\"\n                  :on-success=\"handleAlipaySuccess\">\n                  <img v-if=\"websiteConfigForm.alipayQRCode\" :src=\"websiteConfigForm.alipayQRCode\" class=\"avatar\" />\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n                </el-upload>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-button type=\"primary\" size=\"medium\" style=\"margin-left:6.3rem\" @click=\"updateWebsiteConfig\">\n            修改\n          </el-button>\n        </el-form>\n      </el-tab-pane>\n    </el-tabs>\n  </el-card>\n</template>\n\n<script>\nimport * as imageConversion from \"image-conversion\";\nexport default {\n  created() {\n    this.getWebsiteConfig();\n  },\n  data: function () {\n    return {\n      websiteConfigForm: {\n        websiteCover: \"\",\n        websiteAvatar: \"\",\n        websiteName: \"\",\n        websiteAuthor: \"\",\n        websiteIntro: \"\",\n        websiteNotice: \"\",\n        websiteCreateTime: null,\n        websiteRecordNo: \"\",\n        socialLoginList: [],\n        socialUrlList: [],\n        qq: \"\",\n        github: \"\",\n        gitee: \"\",\n        userAvatar: \"\",\n        touristAvatar: \"\",\n        isReward: 1,\n        weiXinQRCode: \"\",\n        alipayQRCode: \"\",\n        articleCover: \"\",\n        websocketUrl: \"\",\n        isEmailNotice: 1,\n        isCommentReview: 0,\n        isMessageReview: 0\n      },\n      activeName: \"info\"\n    };\n  },\n  methods: {\n    getWebsiteConfig() {\n      this.axios.get(\"/api/admin/website/config\").then(({ data }) => {\n        this.websiteConfigForm = data.data;\n      });\n    },\n    beforeUpload(file) {\n      return new Promise(resolve => {\n        if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n          resolve(file);\n        }\n        // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n        imageConversion\n          .compressAccurately(file, this.config.UPLOAD_SIZE)\n          .then(res => {\n            resolve(res);\n          });\n      });\n    },\n    handleClick(tab) {\n      console.log(tab);\n    },\n    handleWebsiteCoverSuccess(response) {\n      this.websiteConfigForm.websiteCover = response.data;\n    },\n    handleWebsiteAvatarSuccess(response) {\n      this.websiteConfigForm.websiteAvatar = response.data;\n    },\n    handleUserAvatarSuccess(response) {\n      this.websiteConfigForm.userAvatar = response.data;\n    },\n    handleArticleCoverSuccess(response) {\n      this.websiteConfigForm.articleCover = response.data;\n    },\n    handleTouristAvatarSuccess(response) {\n      this.websiteConfigForm.touristAvatar = response.data;\n    },\n    handleWeiXinSuccess(response) {\n      this.websiteConfigForm.weiXinQRCode = response.data;\n    },\n    handleAlipaySuccess(response) {\n      this.websiteConfigForm.alipayQRCode = response.data;\n    },\n    updateWebsiteConfig() {\n      this.axios\n        .put(\"/api/admin/website/config\", this.websiteConfigForm)\n        .then(({ data }) => {\n          if (data.flag) {\n            this.$notify.success({\n              title: \"成功\",\n              message: data.message\n            });\n          } else {\n            this.$notify.error({\n              title: \"失败\",\n              message: data.message\n            });\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n}\n\n.avatar {\n  width: 120px;\n  height: 120px;\n  display: block;\n}\n\n.cover-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.cover-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.cover-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 300px;\n  height: 160px;\n  line-height: 160px;\n  text-align: center;\n}\n\n.cover {\n  width: 300px;\n  height: 160px;\n  display: block;\n}\n</style>\n"]}]}