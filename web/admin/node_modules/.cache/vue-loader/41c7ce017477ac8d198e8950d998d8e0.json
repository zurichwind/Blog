{"remainingRequest":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\history\\History.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\D\\Wind\\Blog\\web\\admin\\src\\views\\history\\History.vue","mtime":1676894149192},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1686291315932},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686291304238},{"path":"C:\\D\\Wind\\Blog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1686291309679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGltYWdlQ29udmVyc2lvbiBmcm9tICJpbWFnZS1jb252ZXJzaW9uIjsKZXhwb3J0IGRlZmF1bHQgewogICAgY3JlYXRlZCgpIHsKICAgICAgICBjb25zdCBwYXRoID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgICBjb25zdCBhcnIgPSBwYXRoLnNwbGl0KCIvIik7CiAgICAgICAgY29uc3QgYXJ0aWNsZUlkID0gYXJyWzJdOwogICAgICAgIGlmIChhcnRpY2xlSWQpIHsKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvYWRtaW4vYXJ0aWNsZXMvIiArIGFydGljbGVJZCkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZSA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgYXJ0aWNsZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFydGljbGUiKTsKICAgICAgICAgICAgaWYgKGFydGljbGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZSA9IEpTT04ucGFyc2UoYXJ0aWNsZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgZGVzdHJveWVkKCkgewogICAgICAgIC8v5paH56ug6Ieq5Yqo5L+d5a2Y5Yqf6IO9CiAgICAgICAgdGhpcy5hdXRvU2F2ZUFydGljbGUoKTsKICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWRkT3JFZGl0OiBmYWxzZSwKICAgICAgICAgICAgYXV0b1NhdmU6IHRydWUsCiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogIiIsCiAgICAgICAgICAgIHRhZ05hbWU6ICIiLAogICAgICAgICAgICBjYXRlZ29yeUxpc3Q6IFtdLAogICAgICAgICAgICB0YWdMaXN0OiBbXSwKICAgICAgICAgICAgdHlwZUxpc3Q6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIGRlc2M6ICLljp/liJsiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIGRlc2M6ICLovazovb0iLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgICAgICAgIGRlc2M6ICLnv7vor5EiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgYXJ0aWNsZTogewogICAgICAgICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICAgICAgICBhcnRpY2xlVGl0bGU6IHRoaXMuJG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgICAgICAgICAgIGFydGljbGVDb250ZW50OiAiIiwKICAgICAgICAgICAgICAgIGFydGljbGVDb3ZlcjogIiIsCiAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IG51bGwsCiAgICAgICAgICAgICAgICB0YWdOYW1lTGlzdDogW10sCiAgICAgICAgICAgICAgICBvcmlnaW5hbFVybDogIiIsCiAgICAgICAgICAgICAgICBpc1RvcDogMCwKICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbGlzdENhdGVnb3JpZXMoKSB7CiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2FkbWluL2NhdGVnb3JpZXMvc2VhcmNoIikudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGxpc3RUYWdzKCkgewogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgiL2FwaS9hZG1pbi90YWdzL3NlYXJjaCIpLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRhZ0xpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb3Blbk1vZGVsKCkgewogICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVUaXRsZS50cmltKCkgPT0gIiIpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOagh+mimOS4jeiDveS4uuepuiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZUNvbnRlbnQudHJpbSgpID09ICIiKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DlhoXlrrnkuI3og73kuLrnqboiKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmxpc3RDYXRlZ29yaWVzKCk7CiAgICAgICAgICAgIHRoaXMubGlzdFRhZ3MoKTsKICAgICAgICAgICAgdGhpcy5hZGRPckVkaXQgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgdXBsb2FkQ292ZXIocmVzcG9uc2UpIHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlLmFydGljbGVDb3ZlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSwKICAgICAgICBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0IDwgdGhpcy5jb25maWcuVVBMT0FEX1NJWkUpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5Y6L57yp5YiwMjAwS0Is6L+Z6YeM55qEMjAw5bCx5piv6KaB5Y6L57yp55qE5aSn5bCPLOWPr+iHquWumuS5iQogICAgICAgICAgICAgICAgaW1hZ2VDb252ZXJzaW9uCiAgICAgICAgICAgICAgICAgICAgLmNvbXByZXNzQWNjdXJhdGVseShmaWxlLCB0aGlzLmNvbmZpZy5VUExPQURfU0laRSkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB1cGxvYWRJbWcocG9zLCBmaWxlKSB7CiAgICAgICAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA8IHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKSB7CiAgICAgICAgICAgICAgICBmb3JtZGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlKTsKICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgICAgICAgICAgICAucG9zdCgiL2FwaS9hZG1pbi9hcnRpY2xlcy9pbWFnZXMiLCBmb3JtZGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5tZC4kaW1nMlVybChwb3MsIGRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDljovnvKnliLAyMDBLQizov5nph4znmoQyMDDlsLHmmK/opoHljovnvKnnmoTlpKflsI8s5Y+v6Ieq5a6a5LmJCiAgICAgICAgICAgICAgICBpbWFnZUNvbnZlcnNpb24KICAgICAgICAgICAgICAgICAgICAuY29tcHJlc3NBY2N1cmF0ZWx5KGZpbGUsIHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWRhdGEuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImZpbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHdpbmRvdy5GaWxlKFtyZXNdLCBmaWxlLm5hbWUsIHsgdHlwZTogZmlsZS50eXBlIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wb3N0KCIvYXBpL2FkbWluL2FydGljbGVzL2ltYWdlcyIsIGZvcm1kYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5tZC4kaW1nMlVybChwb3MsIGRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZUFydGljbGVEcmFmdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpID09ICIiKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DmoIfpopjkuI3og73kuLrnqboiKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVDb250ZW50LnRyaW0oKSA9PSAiIikgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5YaF5a655LiN6IO95Li656m6Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnN0YXR1cyA9IDM7CiAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2FwaS9hZG1pbi9hcnRpY2xlcyIsIHRoaXMuYXJ0aWNsZSkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlLmlkID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgIuWPkeW4g+aWh+eroCIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgIuS/ruaUueaWh+eroCIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJhcnRpY2xlIik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2FydGljbGUtbGlzdCIgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv53lrZjojYnnqL/miJDlip8iLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv53lrZjojYnnqL/lpLHotKUiLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8v5YWz6Zet6Ieq5Yqo5L+d5a2Y5Yqf6IO9CiAgICAgICAgICAgIHRoaXMuYXV0b1NhdmUgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIHNhdmVPclVwZGF0ZUFydGljbGUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZVRpdGxlLnRyaW0oKSA9PSAiIikgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5qCH6aKY5LiN6IO95Li656m6Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlQ29udGVudC50cmltKCkgPT0gIiIpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOWGheWuueS4jeiDveS4uuepuiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGUuY2F0ZWdvcnlOYW1lID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOWIhuexu+S4jeiDveS4uuepuiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGUudGFnTmFtZUxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOagh+etvuS4jeiDveS4uuepuiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZUNvdmVyLnRyaW0oKSA9PSAiIikgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5bCB6Z2i5LiN6IO95Li656m6Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hcnRpY2xlKTsKICAgICAgICAgICAgLy8gdGhpcy5heGlvcy5wb3N0KCIvYXBpL2FkbWluL2FydGljbGVzIiwgdGhpcy5hcnRpY2xlKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICAvLyAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgICAgLy8gICAgIGlmICh0aGlzLmFydGljbGUuaWQgPT09IG51bGwpIHsKICAgICAgICAgICAgLy8gICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUYWIiLCAi5Y+R5biD5paH56ugIik7CiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZVRhYiIsICLkv67mlLnmlofnq6AiKTsKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImFydGljbGUiKTsKICAgICAgICAgICAgLy8gICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9hcnRpY2xlLWxpc3QiIH0pOwogICAgICAgICAgICAvLyAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAvLyAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgIC8vICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIC8vICAgICAgIHRpdGxlOiAi5aSx6LSlIiwKICAgICAgICAgICAgLy8gICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgIC8vICAgdGhpcy5hZGRPckVkaXQgPSBmYWxzZTsKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgIC8v5YWz6Zet6Ieq5Yqo5L+d5a2Y5Yqf6IO9CiAgICAgICAgICAgIHRoaXMuYXV0b1NhdmUgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGF1dG9TYXZlQXJ0aWNsZSgpIHsKICAgICAgICAgICAgLy8g6Ieq5Yqo5LiK5Lyg5paH56ugCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHRoaXMuYXV0b1NhdmUgJiYKICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpICE9ICIiICYmCiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUuYXJ0aWNsZUNvbnRlbnQudHJpbSgpICE9ICIiICYmCiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUuaWQgIT0gbnVsbAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgICAgICAgICAgICAucG9zdCgiL2FwaS9hZG1pbi9hcnRpY2xlcyIsIHRoaXMuYXJ0aWNsZSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZmxhZykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6Ieq5Yqo5L+d5a2Y5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuiHquWKqOS/neWtmOWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOS/neWtmOacrOWcsOaWh+eroOiusOW9lQogICAgICAgICAgICBpZiAodGhpcy5hdXRvU2F2ZSAmJiB0aGlzLmFydGljbGUuaWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXJ0aWNsZSIsIEpTT04uc3RyaW5naWZ5KHRoaXMuYXJ0aWNsZSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZWFyY2hDYXRlZ29yaWVzKGtleXdvcmRzLCBjYikgewogICAgICAgICAgICB0aGlzLmF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL2FkbWluL2NhdGVnb3JpZXMvc2VhcmNoIiwgewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkczoga2V5d29yZHMsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICBjYihkYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTZWxlY3RDYXRlZ29yaWVzKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy5hZGRDYXRlZ29yeSh7CiAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IGl0ZW0uY2F0ZWdvcnlOYW1lLAogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNhdmVDYXRlZ29yeSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcnlOYW1lLnRyaW0oKSAhPSAiIikgewogICAgICAgICAgICAgICAgdGhpcy5hZGRDYXRlZ29yeSh7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiB0aGlzLmNhdGVnb3J5TmFtZSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU5hbWUgPSAiIjsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWRkQ2F0ZWdvcnkoaXRlbSkgewogICAgICAgICAgICB0aGlzLmFydGljbGUuY2F0ZWdvcnlOYW1lID0gaXRlbS5jYXRlZ29yeU5hbWU7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVDYXRlZ29yeSgpIHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlLmNhdGVnb3J5TmFtZSA9IG51bGw7CiAgICAgICAgfSwKICAgICAgICBzZWFyY2hUYWdzKGtleXdvcmRzLCBjYikgewogICAgICAgICAgICB0aGlzLmF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL2FkbWluL3RhZ3Mvc2VhcmNoIiwgewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkczoga2V5d29yZHMsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICBjYihkYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTZWxlY3RUYWcoaXRlbSkgewogICAgICAgICAgICB0aGlzLmFkZFRhZyh7CiAgICAgICAgICAgICAgICB0YWdOYW1lOiBpdGVtLnRhZ05hbWUsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgc2F2ZVRhZygpIHsKICAgICAgICAgICAgaWYgKHRoaXMudGFnTmFtZS50cmltKCkgIT0gIiIpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKHsKICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiB0aGlzLnRhZ05hbWUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMudGFnTmFtZSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhZGRUYWcoaXRlbSkgewogICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlLnRhZ05hbWVMaXN0LmluZGV4T2YoaXRlbS50YWdOYW1lKSA9PSAtMSkgewogICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnRhZ05hbWVMaXN0LnB1c2goaXRlbS50YWdOYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlVGFnKGl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmFydGljbGUudGFnTmFtZUxpc3QuaW5kZXhPZihpdGVtKTsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnRhZ05hbWVMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfSwKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHRhZ0NsYXNzKCkgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hcnRpY2xlLnRhZ05hbWVMaXN0LmluZGV4T2YoaXRlbS50YWdOYW1lKTsKICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCAhPSAtMSA/ICJ0YWctaXRlbS1zZWxlY3QiIDogInRhZy1pdGVtIjsKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["History.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"History.vue","sourceRoot":"src/views/history","sourcesContent":["<template>\n    <el-card class=\"main-card\">\n        <div class=\"title\">{{ this.$route.name }}</div>\n        <!-- 文章标题 -->\n        <div class=\"article-title-container\">\n            <el-input v-model=\"article.articleTitle\" size=\"medium\" placeholder=\"输入文章标题\" />\n            <el-button type=\"danger\" size=\"medium\" class=\"save-btn\" @click=\"saveArticleDraft\"\n                v-if=\"article.id == null || article.status == 3\">\n                保存草稿\n            </el-button>\n            <el-button type=\"danger\" size=\"medium\" @click=\"openModel\" style=\"margin-left:10px\">\n                发布文章\n            </el-button>\n        </div>\n        <!-- 文章内容 -->\n        <mavon-editor ref=\"md\" v-model=\"article.articleContent\" @imgAdd=\"uploadImg\"\n            style=\"height:calc(100vh - 260px)\" />\n        <!-- 添加文章对话框 -->\n        <el-dialog :visible.sync=\"addOrEdit\" width=\"40%\" top=\"3vh\">\n            <div class=\"dialog-title-container\" slot=\"title\">\n                发布文章\n            </div>\n            <!-- 文章数据 -->\n            <el-form label-width=\"80px\" size=\"medium\" :model=\"article\">\n                <!-- 文章分类 -->\n                <el-form-item label=\"文章分类\">\n                    <el-tag type=\"success\" v-show=\"article.categoryName\" style=\"margin:0 1rem 0 0\" :closable=\"true\"\n                        @close=\"removeCategory\">\n                        {{ article.categoryName }}\n                    </el-tag>\n                    <!-- 分类选项 -->\n                    <el-popover placement=\"bottom-start\" width=\"460\" trigger=\"click\" v-if=\"!article.categoryName\">\n                        <div class=\"popover-title\">分类</div>\n                        <!-- 搜索框 -->\n                        <el-autocomplete style=\"width:100%\" v-model=\"categoryName\" :fetch-suggestions=\"searchCategories\"\n                            placeholder=\"请输入分类名搜索，enter可添加自定义分类\" :trigger-on-focus=\"false\"\n                            @keyup.enter.native=\"saveCategory\" @select=\"handleSelectCategories\">\n                            <template slot-scope=\"{ item }\">\n                                <div>{{ item.categoryName }}</div>\n                            </template>\n                        </el-autocomplete>\n                        <!-- 分类 -->\n                        <div class=\"popover-container\">\n                            <div v-for=\"item of categoryList\" :key=\"item.id\" class=\"category-item\"\n                                @click=\"addCategory(item)\">\n                                {{ item.categoryName }}\n                            </div>\n                        </div>\n                        <el-button type=\"success\" plain slot=\"reference\" size=\"small\">\n                            添加分类\n                        </el-button>\n                    </el-popover>\n                </el-form-item>\n                <!-- 文章标签 -->\n                <el-form-item label=\"文章标签\">\n                    <el-tag v-for=\"(item, index) of article.tagNameList\" :key=\"index\" style=\"margin:0 1rem 0 0\"\n                        :closable=\"true\" @close=\"removeTag(item)\">\n                        {{ item }}\n                    </el-tag>\n                    <!-- 标签选项 -->\n                    <el-popover placement=\"bottom-start\" width=\"460\" trigger=\"click\"\n                        v-if=\"article.tagNameList.length < 3\">\n                        <div class=\"popover-title\">标签</div>\n                        <!-- 搜索框 -->\n                        <el-autocomplete style=\"width:100%\" v-model=\"tagName\" :fetch-suggestions=\"searchTags\"\n                            placeholder=\"请输入标签名搜索，enter可添加自定义标签\" :trigger-on-focus=\"false\" @keyup.enter.native=\"saveTag\"\n                            @select=\"handleSelectTag\">\n                            <template slot-scope=\"{ item }\">\n                                <div>{{ item.tagName }}</div>\n                            </template>\n                        </el-autocomplete>\n                        <!-- 标签 -->\n                        <div class=\"popover-container\">\n                            <div style=\"margin-bottom:1rem\">添加标签</div>\n                            <el-tag v-for=\"(item, index) of tagList\" :key=\"index\" :class=\"tagClass(item)\"\n                                @click=\"addTag(item)\">\n                                {{ item.tagName }}\n                            </el-tag>\n                        </div>\n                        <el-button type=\"primary\" plain slot=\"reference\" size=\"small\">\n                            添加标签\n                        </el-button>\n                    </el-popover>\n                </el-form-item>\n                <el-form-item label=\"文章类型\">\n                    <el-select v-model=\"article.type\" placeholder=\"请选择类型\">\n                        <el-option v-for=\"item in typeList\" :key=\"item.type\" :label=\"item.desc\" :value=\"item.type\" />\n                    </el-select>\n                </el-form-item>\n                <!-- 文章类型 -->\n                <el-form-item label=\"原文地址\" v-if=\"article.type != 1\">\n                    <el-input v-model=\"article.originalUrl\" placeholder=\"请填写原文链接\" />\n                </el-form-item>\n                <el-form-item label=\"上传封面\">\n                    <el-upload class=\"upload-cover\" drag action=\"/api/admin/articles/images\" multiple\n                        :before-upload=\"beforeUpload\" :on-success=\"uploadCover\">\n                        <i class=\"el-icon-upload\" v-if=\"article.articleCover == ''\" />\n                        <div class=\"el-upload__text\" v-if=\"article.articleCover == ''\">\n                            将文件拖到此处，或<em>点击上传</em>\n                        </div>\n                        <img v-else :src=\"article.articleCover\" width=\"360px\" height=\"180px\" />\n                    </el-upload>\n                </el-form-item>\n                <el-form-item label=\"置顶\">\n                    <el-switch v-model=\"article.isTop\" active-color=\"#13ce66\" inactive-color=\"#F4F4F5\" :active-value=\"1\"\n                        :inactive-value=\"0\" />\n                </el-form-item>\n                <el-form-item label=\"发布形式\">\n                    <el-radio-group v-model=\"article.status\">\n                        <el-radio :label=\"1\">公开</el-radio>\n                        <el-radio :label=\"2\">私密</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\">\n                <el-button @click=\"addOrEdit = false\">取 消</el-button>\n                <el-button type=\"danger\" @click=\"saveOrUpdateArticle\">\n                    发 表\n                </el-button>\n            </div>\n        </el-dialog>\n    </el-card>\n</template>\n  \n<script>\nimport * as imageConversion from \"image-conversion\";\nexport default {\n    created() {\n        const path = this.$route.path;\n        const arr = path.split(\"/\");\n        const articleId = arr[2];\n        if (articleId) {\n            this.axios.get(\"/api/admin/articles/\" + articleId).then(({ data }) => {\n                this.article = data.data;\n            });\n        } else {\n            const article = sessionStorage.getItem(\"article\");\n            if (article) {\n                this.article = JSON.parse(article);\n            }\n        }\n    },\n    destroyed() {\n        //文章自动保存功能\n        this.autoSaveArticle();\n    },\n    data: function () {\n        return {\n            addOrEdit: false,\n            autoSave: true,\n            categoryName: \"\",\n            tagName: \"\",\n            categoryList: [],\n            tagList: [],\n            typeList: [\n                {\n                    type: 1,\n                    desc: \"原创\",\n                },\n                {\n                    type: 2,\n                    desc: \"转载\",\n                },\n                {\n                    type: 3,\n                    desc: \"翻译\",\n                },\n            ],\n            article: {\n                id: null,\n                articleTitle: this.$moment(new Date()).format(\"YYYY-MM-DD\"),\n                articleContent: \"\",\n                articleCover: \"\",\n                categoryName: null,\n                tagNameList: [],\n                originalUrl: \"\",\n                isTop: 0,\n                type: 1,\n                status: 1,\n            },\n        };\n    },\n    methods: {\n        listCategories() {\n            this.axios.get(\"/api/admin/categories/search\").then(({ data }) => {\n                this.categoryList = data.data;\n            });\n        },\n        listTags() {\n            this.axios.get(\"/api/admin/tags/search\").then(({ data }) => {\n                this.tagList = data.data;\n            });\n        },\n        openModel() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            this.listCategories();\n            this.listTags();\n            this.addOrEdit = true;\n        },\n        uploadCover(response) {\n            this.article.articleCover = response.data;\n        },\n        beforeUpload(file) {\n            return new Promise((resolve) => {\n                if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n                    resolve(file);\n                }\n                // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n                imageConversion\n                    .compressAccurately(file, this.config.UPLOAD_SIZE)\n                    .then((res) => {\n                        resolve(res);\n                    });\n            });\n        },\n        uploadImg(pos, file) {\n            var formdata = new FormData();\n            if (file.size / 1024 < this.config.UPLOAD_SIZE) {\n                formdata.append(\"file\", file);\n                this.axios\n                    .post(\"/api/admin/articles/images\", formdata)\n                    .then(({ data }) => {\n                        this.$refs.md.$img2Url(pos, data.data);\n                    });\n            } else {\n                // 压缩到200KB,这里的200就是要压缩的大小,可自定义\n                imageConversion\n                    .compressAccurately(file, this.config.UPLOAD_SIZE)\n                    .then((res) => {\n                        formdata.append(\n                            \"file\",\n                            new window.File([res], file.name, { type: file.type })\n                        );\n                        this.axios\n                            .post(\"/api/admin/articles/images\", formdata)\n                            .then(({ data }) => {\n                                this.$refs.md.$img2Url(pos, data.data);\n                            });\n                    });\n            }\n        },\n        saveArticleDraft() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            this.article.status = 3;\n            this.axios.post(\"/api/admin/articles\", this.article).then(({ data }) => {\n                if (data.flag) {\n                    if (this.article.id === null) {\n                        this.$store.commit(\"removeTab\", \"发布文章\");\n                    } else {\n                        this.$store.commit(\"removeTab\", \"修改文章\");\n                    }\n                    sessionStorage.removeItem(\"article\");\n                    this.$router.push({ path: \"/article-list\" });\n                    this.$notify.success({\n                        title: \"成功\",\n                        message: \"保存草稿成功\",\n                    });\n                } else {\n                    this.$notify.error({\n                        title: \"失败\",\n                        message: \"保存草稿失败\",\n                    });\n                }\n            });\n\n            //关闭自动保存功能\n            this.autoSave = false;\n        },\n        saveOrUpdateArticle() {\n            if (this.article.articleTitle.trim() == \"\") {\n                this.$message.error(\"文章标题不能为空\");\n                return false;\n            }\n            if (this.article.articleContent.trim() == \"\") {\n                this.$message.error(\"文章内容不能为空\");\n                return false;\n            }\n            if (this.article.categoryName == null) {\n                this.$message.error(\"文章分类不能为空\");\n                return false;\n            }\n            if (this.article.tagNameList.length == 0) {\n                this.$message.error(\"文章标签不能为空\");\n                return false;\n            }\n            if (this.article.articleCover.trim() == \"\") {\n                this.$message.error(\"文章封面不能为空\");\n                return false;\n            }\n            console.log(this.article);\n            // this.axios.post(\"/api/admin/articles\", this.article).then(({ data }) => {\n            //   if (data.flag) {\n            //     if (this.article.id === null) {\n            //       this.$store.commit(\"removeTab\", \"发布文章\");\n            //     } else {\n            //       this.$store.commit(\"removeTab\", \"修改文章\");\n            //     }\n            //     sessionStorage.removeItem(\"article\");\n            //     this.$router.push({ path: \"/article-list\" });\n            //     this.$notify.success({\n            //       title: \"成功\",\n            //       message: data.message\n            //     });\n            //   } else {\n            //     this.$notify.error({\n            //       title: \"失败\",\n            //       message: data.message\n            //     });\n            //   }\n            //   this.addOrEdit = false;\n            // });\n            //关闭自动保存功能\n            this.autoSave = false;\n        },\n        autoSaveArticle() {\n            // 自动上传文章\n            if (\n                this.autoSave &&\n                this.article.articleTitle.trim() != \"\" &&\n                this.article.articleContent.trim() != \"\" &&\n                this.article.id != null\n            ) {\n                this.axios\n                    .post(\"/api/admin/articles\", this.article)\n                    .then(({ data }) => {\n                        if (data.flag) {\n                            this.$notify.success({\n                                title: \"成功\",\n                                message: \"自动保存成功\",\n                            });\n                        } else {\n                            this.$notify.error({\n                                title: \"失败\",\n                                message: \"自动保存失败\",\n                            });\n                        }\n                    });\n            }\n            // 保存本地文章记录\n            if (this.autoSave && this.article.id == null) {\n                sessionStorage.setItem(\"article\", JSON.stringify(this.article));\n            }\n        },\n        searchCategories(keywords, cb) {\n            this.axios\n                .get(\"/api/admin/categories/search\", {\n                    params: {\n                        keywords: keywords,\n                    },\n                })\n                .then(({ data }) => {\n                    cb(data.data);\n                });\n        },\n        handleSelectCategories(item) {\n            this.addCategory({\n                categoryName: item.categoryName,\n            });\n        },\n        saveCategory() {\n            if (this.categoryName.trim() != \"\") {\n                this.addCategory({\n                    categoryName: this.categoryName,\n                });\n                this.categoryName = \"\";\n            }\n        },\n        addCategory(item) {\n            this.article.categoryName = item.categoryName;\n        },\n        removeCategory() {\n            this.article.categoryName = null;\n        },\n        searchTags(keywords, cb) {\n            this.axios\n                .get(\"/api/admin/tags/search\", {\n                    params: {\n                        keywords: keywords,\n                    },\n                })\n                .then(({ data }) => {\n                    cb(data.data);\n                });\n        },\n        handleSelectTag(item) {\n            this.addTag({\n                tagName: item.tagName,\n            });\n        },\n        saveTag() {\n            if (this.tagName.trim() != \"\") {\n                this.addTag({\n                    tagName: this.tagName,\n                });\n                this.tagName = \"\";\n            }\n        },\n        addTag(item) {\n            if (this.article.tagNameList.indexOf(item.tagName) == -1) {\n                this.article.tagNameList.push(item.tagName);\n            }\n        },\n        removeTag(item) {\n            const index = this.article.tagNameList.indexOf(item);\n            this.article.tagNameList.splice(index, 1);\n        },\n    },\n    computed: {\n        tagClass() {\n            return function (item) {\n                const index = this.article.tagNameList.indexOf(item.tagName);\n                return index != -1 ? \"tag-item-select\" : \"tag-item\";\n            };\n        },\n    },\n};\n</script>\n  \n<style scoped>\n.article-title-container {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1.25rem;\n    margin-top: 2.25rem;\n}\n\n.save-btn {\n    margin-left: 0.75rem;\n    background: #fff;\n    color: #f56c6c;\n}\n\n.tag-item {\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n    cursor: pointer;\n}\n\n.tag-item-select {\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n    cursor: not-allowed;\n    color: #ccccd8 !important;\n}\n\n.category-item {\n    cursor: pointer;\n    padding: 0.6rem 0.5rem;\n}\n\n.category-item:hover {\n    background-color: #f0f9eb;\n    color: #67c23a;\n}\n\n.popover-title {\n    margin-bottom: 1rem;\n    text-align: center;\n}\n\n.popover-container {\n    margin-top: 1rem;\n    height: 260px;\n    overflow-y: auto;\n}\n</style>\n  "]}]}